<%
locals.OLSKPageTitle = OLSKLocalized('LCHComposeTitle');
locals.OLSKPageDescription = OLSKLocalized('LCHComposeDescription');
locals.OLSKPageAssets = [
	'/shared-assets/external/normalize.css/normalize.css',
	'/shared-assets/external/d3-selection/dist/d3-selection.min.js',
	'/shared-assets/external/dragula/dist/dragula.js',
	'/shared-assets/external/dragula/dist/dragula.css',
	'/shared-assets/external/codemirror/lib/codemirror.css',
	'/shared-assets/external/codemirror/lib/codemirror.js',
	'/shared-assets/external/codemirror/mode/javascript/javascript.js',
	'/shared-assets/external/codemirror/addon/display/placeholder.js',
	'ui-style.css',
	'ui-behaviour.js',
	'ui-logic.js',
	// 'sample-d3.js',
	'sample.css',
	'sample.js',
];
%>

<%- include('../_shared/layout-header.ejs') %>

<header>
	<p><%= OLSKLocalized('LCHComposeTitle') %></p>
</header>

<div id="LCHCompose">
	<div id="LCHComposeToolbar">
		<button id="LCHComposeToolbarIdentifierVisibilityButton" onclick="LCHComposeBehaviour.interfaceIdentifierVisibilityButtonDidClick()"><%= OLSKLocalized('LCHComposeToolbarIdentifierVisibilityButtonText') %></button>
		<button id="LCHComposeToolbarAddButton" onclick="LCHComposeBehaviour.interfaceAddButtonDidClick()" accesskey="n"><%= OLSKLocalized('LCHComposeToolbarAddButtonText') %></button>
	</div>
	<div id="LCHComposeList"></div>

	<p>
		<textarea id="LCHComposeComposedSample"></textarea>
		<script type="text/javascript">
			d3.select('#LCHComposeComposedSample').property('value', LCHComposeSample.composedSample.toString());
		</script>
	</p>

	<p>
		<textarea id="LCHComposeBinary"></textarea>
		<script type="text/javascript">
			d3.select('#LCHComposeBinary').property('value', `javascript:(${encodeURIComponent(d3.select('#LCHComposeComposedSample').property('value'))})()`);
		</script>
	</p>

	<p>
		<a href="javascript:LCHComposeSample.composedSample()">Try it</a>
	</p>
</div>

<script type="text/javascript">
	LCHComposeBehaviour.lifecyclePageWillLoad();
</script>

<%- include('../_shared/layout-footer.ejs') %>
