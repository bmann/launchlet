<%
locals.OLSKPageTitle = OLSKLocalized('LCHComposeTitle');
locals.OLSKPageDescription = OLSKLocalized('LCHComposeDescription');
locals.OLSKPageAssets = [
	'/shared-assets/external/normalize.css/normalize.css',
	'/shared-assets/external/d3/dist/d3.min.js',
	'/shared-assets/external/codemirror/lib/codemirror.js',
	'/shared-assets/external/codemirror/lib/codemirror.css',
	'/shared-assets/external/codemirror/mode/javascript/javascript.js',
	'ui-style.css',
	'ui-behaviour.js',
	'ui-logic.js',
	'sample-d3.js',
	'sample.js',
];
%>

<%- include('../_shared/layout-header.ejs') %>

<div id="LCHCompose">
	<p><%= OLSKLocalized('LCHComposeTitle') %></p>

	<p>
		<textarea id="LCHComposeComposedSample"></textarea>
		<script type="text/javascript">
			d3.select('#LCHComposeComposedSample').property('value', LCHComposeSample.composedSample.toString());
		</script>
	</p>

	<p>
		<textarea id="LCHComposeBinary"></textarea>
		<script type="text/javascript">
			d3.select('#LCHComposeBinary').property('value', `javascript:(${encodeURIComponent(d3.select('#LCHComposeComposedSample').property('value'))})()`);
		</script>
	</p>

	<p>
		<a href="javascript:LCHComposeSample.composedSample()">Try it</a>
	</p>
</div>

<script type="text/javascript">
	LCHComposeBehaviour.lifecyclePageWillLoad();
</script>

<%- include('../_shared/layout-footer.ejs') %>
