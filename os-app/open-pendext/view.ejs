<%
locals.OLSKPageTitle = OLSKLocalized('LCHComposeTitle');
locals.OLSKPageDescription = OLSKLocalized('LCHComposeDescription');
locals.OLSKPageAssets = [
	'/_shared/_external/normalize.css/normalize.css',
	'/_shared/_external/d3-selection/dist/d3-selection.min.js',
	'/_shared/_external/dragula/dist/dragula.js',
	'/_shared/_external/dragula/dist/dragula.css',
	'/_shared/_external/codemirror/lib/codemirror.css',
	'/_shared/_external/codemirror/lib/codemirror.js',
	'/_shared/_external/codemirror/mode/javascript/javascript.js',
	'/_shared/_external/codemirror/addon/display/placeholder.js',
	'main.js',
	'ui-style.css',
	'ui-behaviour.js',
];
%>

<%- include('../_shared/common/layout-header.ejs') %>

<header>
	<p><%= OLSKLocalized('LCHComposeTitle') %></p>
</header>

<script type="text/javascript">
	window.d3x = d3;
	delete window.d3;
</script>

<div id="LCHCompose">
	<div id="LCHComposeToolbar">
		<button id="LCHComposeToolbarIdentifierVisibilityButton" onclick="LCHComposeBehaviour.interfaceIdentifierVisibilityButtonDidClick()"><%= OLSKLocalized('LCHComposeToolbarIdentifierVisibilityButtonText') %></button>
		<button id="LCHComposeToolbarAddButton" onclick="LCHComposeBehaviour.interfaceAddButtonDidClick()" accesskey="n"><%= OLSKLocalized('LCHComposeToolbarCreateButtonText') %></button>
	</div>
	<div id="LCHComposeList"></div>

	<p>
		<textarea id="LCHComposeStyleContent" style="display: none;"><%= LCHComposeStyleContent %></textarea>
		<textarea id="LCHComposeLibraryD3Content" style="display: none;"><%= LCHComposeLibraryD3Content %></textarea>
		<textarea id="LCHComposeComposedSample" onclick="this.select()"></textarea>
	</p>

	<p>
		<textarea id="LCHComposeBinary" onclick="this.select()"></textarea>
	</p>

	<p>
		<a id="LCHComposeBuildLink" href="javascript:LCHComposeSample.composedSample()">Try it</a>
	</p>
</div>

<div id="LCHComposeBuildScript"></div>
<button accesskey="r" onclick="LCHComposeBuildScript()">run</button>

<script type="text/javascript">
	LCHComposeBehaviour.lifecyclePageWillLoad();
</script>

<%- include('../_shared/common/layout-footer.ejs') %>
